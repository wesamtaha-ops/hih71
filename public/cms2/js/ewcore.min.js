/*!
 * Core JavaScript for PHPMaker v2023.7.0
 * Copyright (c) e.World Technology Limited. All rights reserved.
 */
var ew=function(){"use strict";var e=function(){},t={},n={},i={};function r(e,t){if(e){var r=i[e];if(n[e]=t,r)for(;r.length;)r[0](e,t),r.splice(0,1)}}function l(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function o(t,n,i,r){var l,s=document,a=i.async,u=(i.numRetries||0)+1,c=i.before||e,d=t.replace(/[\?|#].*$/,""),p=t.replace(/^(css|img)!/,"");r=r||0,/(^css!|\.css$)/.test(d)?((l=s.createElement("link")).rel="stylesheet",l.href=p):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(d)?(l=s.createElement("img")).src=p:((l=s.createElement("script")).src=t,l.async=void 0===a||a),l.onload=l.onerror=l.onbeforeload=function(e){var s=e.type[0];if("e"==s){if((r+=1)<u)return o(t,n,i,r)}else if("preload"==l.rel&&"style"==l.as)return l.rel="stylesheet";n(t,s,e.defaultPrevented)},!1!==c(t,l)&&"IMG"!=l.tagName&&s.head.appendChild(l)}function s(e,n,i){var s,a;if(n&&n.trim&&(s=n),a=(s?i:n)||{},s){if(s in t)throw"LoadJS";t[s]=!0}function u(t,n){!function(e,t,n){var i,r,l=(e=e.push?e:[e]).length,s=l,a=[];for(i=function(e,n,i){if("e"==n&&a.push(e),"b"==n){if(!i)return;a.push(e)}--l||t(a)},r=0;r<s;r++)o(e[r],i,n)}(e,(function(e){l(a,e),t&&l({success:t,error:n},e),r(s,e)}),a)}if(a.returnPromise)return new Promise(u);u()}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}s.ready=function(e,t){return function(e,t){e=e.push?e:[e];var r,l,o,s=[],a=e.length,u=a;for(r=function(e,n){n.length&&s.push(e),--u||t(s)};a--;)l=e[a],(o=n[l])?r(l,o):(i[l]=i[l]||[]).push(r)}(e,(function(e){l(t,e)})),s},s.done=function(e){r(e,[])},s.reset=function(){t={},n={},i={}},s.isDefined=function(e){return e in t};let d=function(){function e(e){c(this,"data",{}),this.data=null!=e?e:{}}return e.prototype.phrase=function(e){var t;return null!=(t=this.data[e.toLowerCase()])?t:e},u(e,[{key:"phrases",get:function(){return this.data},set:function(e){this.data=e}}]),e}();function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e,t,n){return g=m()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&h(r,n.prototype),r},g.apply(null,arguments)}function y(e){var t="function"==typeof Map?new Map:void 0;return y=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return g(e,arguments,f(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),h(i,e)},y(e)}let w=function(){function e(e,t,n){c(this,"_selected",void 0),c(this,"_selectionList",void 0),c(this,"_innerHTML",""),c(this,"_value",""),c(this,"_defaultSelected",!1),this._innerHTML=String(e),this._value=String(t),this._defaultSelected=!!n}return u(e,[{key:"text",get:function(){return this._innerHTML},set:function(e){this._innerHTML=String(e)}},{key:"innerHTML",get:function(){return this._innerHTML},set:function(e){this._innerHTML=e}},{key:"value",get:function(){return this._value},set:function(e){this._value=String(e)}},{key:"defaultSelected",get:function(){return this._defaultSelected},set:function(e){this._defaultSelected=!!e}},{key:"selectionList",get:function(){return this._selectionList},set:function(e){this._selectionList=e}},{key:"selected",get:function(){var e;return null!=(e=this._selected)?e:this.defaultSelected},set:function(e){var t;this._selected=e,null==(t=this._selectionList)||t.render()}}]),e}(),v=function(e){var t,n;function i(){var t;return c(p(t=e.call(this)||this),"containerClass","d-sm-table"),c(p(t),"rowClass","d-sm-table-row"),c(p(t),"cellClass","d-sm-table-cell"),c(p(t),"options",[]),t._internals=t.attachInternals(),t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n);var r=i.prototype;return r.connectedCallback=function(){let e=this.getAttribute("value")||"",t=this.multiple?e.split(ew.MULTIPLE_OPTION_SEPARATOR):[e];for(let e of t)this.add(e,"",!0)},r.add=function(e,t,n){let i=new w(t,e,n);this.addOption(i)},r.addOption=function(e){if(e instanceof w){e.selectionList=this;let t=this.options.findIndex((t=>t.value==e.value));t>-1?this.options[t]=e:this.options.push(e)}},r.remove=function(e){this.options[e]&&this.options.splice(e,1)},r.removeAll=function(){this.options.splice(0)},r.clear=function(){for(let e of this.options)e.selected=!1;this.render()},r.getRandom=function(){return Math.floor(899999*Math.random())+1e5},r.triggerChange=function(){const e=new Event("change",{view:window,bubbles:!0,cancelable:!1});this.dispatchEvent(e)},r.isInvalid=function(e){return/\bis-invalid\b/.test(e)},r.attributeChangedCallback=function(e,t,n){if("class"==e){if(this.targetId&&this.isInvalid(t)!=this.isInvalid(n)){let e=document.getElementById(this.targetId).querySelectorAll("input"),t=this.isInvalid(n);e.forEach((e=>e.classList.toggle("is-invalid",t)))}}else"value"==e&&(this._internals.setFormValue(this.value),""!==this.value&&this.classList.remove("is-invalid"))},r.showLoading=function(){var e;null==(e=this.target)||e.appendChild(document.createRange().createContextualFragment(ew.spinnerTemplate()))},r.hideLoading=function(){var e,t;null==(e=this.target)||null==(t=e.querySelector(".ew-loading"))||t.remove()},r.render=function(){let e=this.target,t=this.template;if(!e||!t||!this.list)return;for(;e.firstChild;)e.removeChild(e.firstChild);e.innerHTML=ew.spinnerTemplate();let n,i=this,r=t.content,l=this.columns||1,o=document.createElement("div"),s=this.length,a="_"+this.getRandom(),u=this.classList.contains("is-invalid");o.className=this.containerClass+" ew-item-container",this.options.filter((e=>e.value)).forEach(((e,t)=>{let c=r.cloneNode(!0),d=c.querySelector("input"),p=c.querySelector("label"),h="_"+this.getRandom();d.name=d.name+("radio"==d.type?a:h),d.id=d.id+h,d.value=e.value,d.setAttribute("data-index",t),d.checked=e.selected,d.classList.add("ew-custom-option"),u&&d.classList.add("is-invalid"),d.addEventListener("click",(function(){let e=parseInt(this.getAttribute("data-index"),10);if("select-one"==i.type)for(let e of i.options)e.selected=!1;i.options[e].selected=this.checked,i.setAttribute("value",i.value),i.triggerChange()})),p.innerHTML=e.text,p.htmlFor=d.id;let f=document.createElement("div");if(f.className=this.cellClass,f.appendChild(c),t%l==0&&(n=document.createElement("div"),n.className=this.rowClass),n.append(f),t%l==l-1)o.append(n);else if(t==s-1){for(let e=t%l+1;e<l;e++){let e=document.createElement("div");e.className=this.cellClass,n.append(e)}o.append(n)}})),e.innerHTML="",e.append(o),this.setAttribute("value",this.value)},r.focus=function(){var t,n;this.list?null==(t=this.target)||null==(n=t.querySelector("input"))||n.focus():e.prototype.focus.call(this)},u(i,[{key:"form",get:function(){return this._internals.form}},{key:"name",get:function(){return this.getAttribute("name")}},{key:"targetId",get:function(){return this.getAttribute("data-target")}},{key:"target",get:function(){return this.parentNode.querySelector("#"+this.targetId)}},{key:"templateId",get:function(){return this.getAttribute("data-template")}},{key:"template",get:function(){return this.parentNode.querySelector("#"+this.templateId)}},{key:"inputId",get:function(){return this.getAttribute("data-input")}},{key:"input",get:function(){return this.parentNode.querySelector("#"+this.inputId)}},{key:"list",get:function(){return this.options}},{key:"columns",get:function(){var e;if(null!=(e=ew)&&e.IS_MOBILE)return 1;{let e=this.getAttribute("data-repeatcolumn");return e?parseInt(e,10):1}}},{key:"length",get:function(){return this.options.length}},{key:"selectedIndex",get:function(){return this.options.findIndex((e=>e.selected))},set:function(e){let t=this.options[e];t&&(this.options.forEach((e=>e.selected=!1)),t.selected=!0,this.render())}},{key:"type",get:function(){return this.getAttribute("data-type")||this.getAttribute("type")}},{key:"multiple",get:function(){return"select-multiple"==this.type}},{key:"value",get:function(){return"select-one"==this.type||"select-multiple"==this.type?this.values.join(ew.MULTIPLE_OPTION_SEPARATOR||","):this.getAttribute("value")},set:function(e){if("select-one"==this.type)for(let t of this.options)t.selected=t.value==e;else if("select-multiple"==this.type){let t;if(Array.isArray(e))t=e.map((e=>null!=e?e:String(e)));else null!=e||(e=String(e)),t=e?e.split(ew.MULTIPLE_OPTION_SEPARATOR||","):[];for(let e of this.options)e.selected=t.includes(String(e.value))}else this.setAttribute("value",e);this.render()}},{key:"values",get:function(){if("select-one"==this.type||"select-multiple"==this.type)return this.options.filter((e=>e.selected)).map((e=>e.value));{let e=this.getAttribute("value");return e?e.split(ew.MULTIPLE_OPTION_SEPARATOR||","):[]}}}],[{key:"observedAttributes",get:function(){return["class","value"]}},{key:"formAssociated",get:function(){return!0}}]),i}(y(HTMLElement));s.ready("adminlte",(function(){let e=jQuery;e(window).off("load.lte.treeview").off("load.lte.sidebarsearch"),s.ready("templates",(()=>{document.querySelectorAll("[data-widget=treeview]").forEach((t=>e(t).Treeview(null))),document.querySelectorAll("[data-widget=sidebar-search]").forEach((t=>e(t).SidebarSearch(null)))})),adminlte.CardRefresh.overlayTemplate=ew.overlayTemplate()})),window.loadjs=s,customElements.define("selection-list",v);let b,O=()=>{},A=e=>(e.element instanceof HTMLOptionElement?e.element.innerHTML:"")||e.text,S={SelectionListOption:w,PAGE_ID:"",RELATIVE_PATH:"",MULTIPLE_OPTION_SEPARATOR:",",GENERATE_PASSWORD_UPPERCASE:!0,GENERATE_PASSWORD_LOWERCASE:!0,GENERATE_PASSWORD_NUMBER:!0,GENERATE_PASSWORD_SPECIALCHARS:1,CONFIRM_CANCEL:!0,UNFORMAT_YEAR:50,LAZY_LOAD_DELAY:0,AJAX_DELAY:5,LOOKUP_DELAY:250,MAX_OPTION_COUNT:3,NUMBERING_SYSTEM:"",Language:d,language:new d,vars:null,maps:{},addOptionDialog:null,emailDialog:null,importDialog:null,modalDialog:null,modalLookupDialog:null,ajaxBatchSize:5,autoSuggestSettings:{highlight:!0,hint:!0,minLength:1,debounce:250,delay:250,templates:{},classNames:{menu:"tt-menu dropdown-menu",input:"tt-input form-control",dataset:"tt-dataset",suggestion:"tt-suggestion dropdown-item",cursor:"active"}},lightboxSettings:{transition:"none",photo:!0,opacity:.5},calendarOptions:{showViewPageOnEventClick:!1,useContextMenu:!0,usePopover:!0,fullCalendarOptions:{headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},themeSystem:"bootstrap",initialView:"dayGridMonth",dayMaxEventRows:!0,timeZone:"UTC",droppable:!0,editable:!0},eventPopoverOptions:{placement:"auto",trigger:"hover",html:!0}},uploadOptions:{cropperOptions:{autoCropArea:1,viewMode:2},cropperCanvasOptions:{minWidth:256,minHeight:256,maxWidth:4096,maxHeight:4096,fillColor:"#fff",imageSmoothingQuality:"high"}},importUploadOptions:{maxFileSize:1e7,maxNumberOfFiles:10},sweetAlertSettings:{showClass:{popup:"swal2-noanimation",backdrop:"swal2-noanimation",icon:""},hideClass:{popup:"",backdrop:"",icon:""},customClass:{container:"ew-swal2-container",popup:"ew-swal2-popup",header:"ew-swal2-header",title:"ew-swal2-title",closeButton:"ew-swal2-close-button",icon:"ew-swal2-icon",image:"ew-swal2-image",htmlContainer:"ew-swal2-html-container",content:"ew-swal2-content",input:"form-control ew-swal2-input",inputLabel:"ew-swal2-input-label",validationMessage:"ew-swal2-validation-message",actions:"ew-swal2-actions",confirmButton:"btn btn-primary ew-swal2-confirm-button",denyButton:"btn btn-danger ew-swal2-deny-button",cancelButton:"btn btn-secondary ew-swal2-cancel-button",loader:"ew-swal2-loader",footer:"ew-swal2-footer"}},selectOptions:{allowClear:!0,theme:"bootstrap5",width:"style",minimumResultsForSearch:20,escapeMarkup:e=>e,templateResult:A,templateSelection:A,debounce:250,customOption:!0,containerClass:"d-sm-table",rowClass:"d-sm-table-row",cellClass:"d-sm-table-cell text-nowrap",iconClass:"form-check-label"},selectMinimumInputLength:1,modalLookupOptions:{allowClear:!0,theme:"bootstrap5",width:"100%",escapeMarkup:e=>e,templateResult:A,templateSelection:A,closeOnSelect:!1,minimumInputLength:0,dropdownCssClass:"ew-modal-dropdown",modal:!0,debounce:250,draggableOptions:{cursor:"grabbing"}},filterOptions:{allowClear:!0,theme:"bootstrap5",width:"100%",escapeMarkup:e=>e,templateResult:A,templateSelection:A,closeOnSelect:!1,minimumInputLength:0,dropdownAutoWidth:!0,dropdownCssClass:"ew-filter-dropdown",debounce:250,customOption:!0,columns:1,multiple:!0,preventScroll:!0,containerClass:"container",rowClass:"row",cellClass:"col text-nowrap",iconClass:"form-check-label"},importTabulatorOptions:{height:300},toastOptions:{position:"topRight"},DOMPurifyConfig:{},sanitize:function(e){return DOMPurify.sanitize(e,this.DOMPurifyConfig)},overlayScrollbarsOptions:{className:"os-theme-dark",sizeAutoCapable:!0,scrollbars:{autoHide:"leave",clickScrolling:!0}},draggableOptions:{cursor:"grabbing"},queryBuilderOptions:{allowViewRules:!1,allowClearRules:!1},queryBuilderPlugins:{"filter-description":null,"unique-filter":null,"not-group":null},queryBuilderErrorClass:"invalid-tooltip",bundleIds:["dom","head"],tooltipOptions:{placement:"bottom",customClass:"ew-custom-tooltip",sanitizeFn:null},popoverOptions:{html:!0,customClass:"ew-custom-popover",sanitizeFn:null},PDFObjectOptions:{},chartConfig:{},spinnerClass:"spinner-border text-primary",screenMediaQuery:"(min-width: 768px)",jsRenderHelpers:{},jsRenderAttributes:["src","href","title"],autoHideSuccessMessage:!0,autoHideSuccessMessageDelay:5e3,searchOperatorChange:O,setLanguage:O,addOptionDialogShow:O,importDialogShow:O,toggleSearchOperator:O,togglePassword:O,sort:O,selectKey:O,export:O,exportWithCharts:O,setSearchType:O,emailDialogShow:O,selectAll:O,selectAllKeys:O,submitAction:O,addGridRow:O,confirmDelete:()=>!1,deleteGridRow:()=>!1};S.initPanel=e=>{if(e.dataset.isset)return;let t="";for(let n of e.children)if(t=n.innerHTML.trim(),""!==t)break;""===t&&e.classList.add("d-none"),e.dataset.isset=!0},S.panelSelectors=[".user-panel",".ew-grid-upper-panel",".ew-grid-lower-panel",".ew-multi-column-row > * > .card > .card-header",".ew-multi-column-row > * > .card > .card-footer"],S.initPanels=e=>null==e?void 0:e.querySelectorAll(S.panelSelectors.join(",")).forEach(S.initPanel);let C=()=>{S.initPanels(document),b=requestAnimationFrame(C)};s.ready("wrapper",(()=>b=requestAnimationFrame(C))),document.addEventListener("DOMContentLoaded",(()=>{S.initPanels(document),cancelAnimationFrame(b),s.done("dom")})),S.loadjs=function(e,t,n){let i=null!=t&&t.trim?t:"";i&&"load"!=i&&!S.bundleIds.includes(i)&&S.bundleIds.push(i);let r=(i?n:t)||{};e=(e=Array.isArray(e)?e:[e]).filter((e=>e&&(!Array.isArray(e)||e.length))),r.call&&(r={success:r}),r={...r,returnPromise:!0};let l={...r},o=Promise.resolve();return delete l.success,e.forEach(((e,t,n)=>{o=t==n.length-1?o.then((()=>s(e,i||r,i?r:null).catch((e=>console.log(e))))):o.then((()=>s(e,l).catch((e=>console.log(e)))))})),o},S.ready=function(e,t,n,i){let r=null!=n&&n.trim?n:"";r&&"load"!=r&&!S.bundleIds.includes(r)&&S.bundleIds.push(r),s.ready(e,(function(){S.loadjs(t,n,i)}))},s.ready("head",(function(){S.clientScript()})),s.ready("foot",(function(){S.startupScript(),s.done("load")}));let E=function(){let e={},t=!0,n=0;!1===arguments[0]&&(t=!1,n++),"object"==typeof arguments[n]&&(e=arguments[n],n++);let i=function(n){for(let i in n)n.hasOwnProperty(i)&&("object"!=typeof n[i]||Array.isArray(n[i])||null===n[i]?t?e[i]=n[i]:e.hasOwnProperty(i)||(e[i]=n[i]):e[i]=E(t,e[i],n[i]))};for(;n<arguments.length;n++)"object"==typeof arguments[n]&&i(arguments[n]);return e};return S.deepAssign=E,S.applyTemplateId=["jsrender","makerjs"],S.renderTemplate=function(e,t){let n=jQuery,i=null!=e&&e.render?e:n(e);if(!i.render)return;let r={$template:i,data:t};n(document).trigger("rendertemplate",[r]);let l=i.render(r.data,S.jsRenderHelpers),o=r.$template.data("method"),a=r.$template.data("target");return l&&o&&a?n(l)[o](a):l&&!o&&a?n(a).html(l):!l||o||a||i.parent().append(l),s.done("template."+i.data("name")),l},S.renderJsTemplates=function(e){var t;let n=jQuery,i=null!=(t=null==e?void 0:e.target)?t:document;Array.from(i.querySelectorAll(".ew-js-template")).sort(((e,t)=>(e=parseInt(e.dataset.seq,10)||0)-(t=parseInt(t.dataset.seq,10)||0))).forEach((e=>{let t=e.dataset.name,i=e.dataset.data;i&&"string"==typeof i&&(i=S.vars[i]||window[i],!i)||(t?n.render[t]||(n.templates(t,e.text),S.renderTemplate(n(e),i)):S.renderTemplate(n(e),i))})),s.done("templates")},S.overlayTemplate=function(){return'<div class="overlay"><div class="'+this.spinnerClass+'" style="width: 3rem; height: 3rem;" role="status"><span class="visually-hidden">'+this.language.phrase("Loading")+"</span></div></div>"},S.spinnerTemplate=function(){return'<div class="'+this.spinnerClass+' m-3 ew-loading" role="status"><span class="visually-hidden">'+this.language.phrase("Loading")+"</span></div>"},S}();
//# sourceMappingURL=ewcore.min.js.map